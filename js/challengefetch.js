// var apidataarray = require('./kilterget')
// console.log(apidataarray)

// Test Data Begin
var dataarray = [
    {
        "page_url_name":"kilterspring2019",
        "challenge_status": "Upcoming",
        "can_register":true,
        "large_bg":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "smaller_photo":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "name": "Kilter Rewards Springer Challenge 2",
        "thumbnail_url": "https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "category_tag": "Corporate",
        "start_date": "June 15, 2019",
        "end_date": "July 15, 2019",
        "id": 3,
        "name": "Kilter Rewards Summer Cause Challenge",
        "box_description":"Join us for the kilter rewards summer challenge",
        "description": "<div>\nJoin us for the Kilter Rewards Summer Cause Challenge!</br>\n<br>\n<b>Start Date:</b> June 15, 2019<br>\n<b>End Date:</b> July 31, 2019<br>\n<b>Team Sizes:</b> 15-50<br>\n<b>Entry Fee:</b> $400<br><i>($200 goes to donation prize pool)</i><br>\n<br>\n$2800 Donation Prize Pool<br>\n<b>GRAND PRIZE:</b> $1400<br> \n2nd Place: $700<br>\n3rd Place: $350<br>\n4th Place: $210<br>\n5th Place: $140<br>  \n<br>\n<b>14/20</b> Teams Registered\n</div>",
        "start": "2019-06-15T05:00:00Z",
        "end": "2019-07-31T23:59:59Z",
        "prize_pool":10000,
        "what_teams_do":"",
        "who_helping":"",
        "has_sponsor":true,
        "sponsor_description":"sponsor information here",
        "sponsor_logo":"",
        "sponsor_link":"",
    },
    {
        "page_url_name":"kiltersummer2019",
        "challenge_status": "Upcoming",
        "can_register":true,
        "large_bg":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "smaller_photo":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "name": "Kilter Rewards Springer Challenge 2",
        "thumbnail_url": "https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "category_tag": "Corporate",
        "start_date": "June 15, 2019",
        "end_date": "July 15, 2019",
        "id": 3,
        "name": "Kilter Rewards Summer Cause Challenge",
        "box_description":"Join us for the kilter rewards summer challenge",
        "description": "<div>\nJoin us for the Kilter Rewards Summer Cause Challenge!</br>\n<br>\n<b>Start Date:</b> June 15, 2019<br>\n<b>End Date:</b> July 31, 2019<br>\n<b>Team Sizes:</b> 15-50<br>\n<b>Entry Fee:</b> $400<br><i>($200 goes to donation prize pool)</i><br>\n<br>\n$2800 Donation Prize Pool<br>\n<b>GRAND PRIZE:</b> $1400<br> \n2nd Place: $700<br>\n3rd Place: $350<br>\n4th Place: $210<br>\n5th Place: $140<br>  \n<br>\n<b>14/20</b> Teams Registered\n</div>",
        "start": "2019-06-15T05:00:00Z",
        "end": "2019-07-31T23:59:59Z",
        "prize_pool":10000,
        "what_teams_do":"",
        "who_helping":"",
        "has_sponsor":true,
        "sponsor_description":"",
        "sponsor_logo":"",
        "sponsor_link":"",
    },
    {
        "page_url_name":"kilterfall2019",
        "challenge_status": "Upcoming",
        "can_register":false,
        "large_bg":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "smaller_photo":"https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "name": "Kilter Rewards Springer Challenge 2",
        "thumbnail_url": "https://images.unsplash.com/photo-1462717585237-7fafe19c5448?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80",
        "category_tag": "Corporate",
        "start_date": "June 15, 2019",
        "end_date": "July 15, 2019",
        "id": 3,
        "name": "Kilter Rewards Summer Cause Challenge",
        "box_description":"Join us for the kilter rewards summer challenge",
        "description": "<div>\nJoin us for the Kilter Rewards Summer Cause Challenge!</br>\n<br>\n<b>Start Date:</b> June 15, 2019<br>\n<b>End Date:</b> July 31, 2019<br>\n<b>Team Sizes:</b> 15-50<br>\n<b>Entry Fee:</b> $400<br><i>($200 goes to donation prize pool)</i><br>\n<br>\n$2800 Donation Prize Pool<br>\n<b>GRAND PRIZE:</b> $1400<br> \n2nd Place: $700<br>\n3rd Place: $350<br>\n4th Place: $210<br>\n5th Place: $140<br>  \n<br>\n<b>14/20</b> Teams Registered\n</div>",
        "start": "2019-06-15T05:00:00Z",
        "end": "2019-07-31T23:59:59Z",
        "prize_pool":10000,
        "what_teams_do":"",
        "who_helping":"",
        "has_sponsor":false,
        "sponsor_description":"",
        "sponsor_logo":"",
        "sponsor_link":"",
    }
]
// Test Data End

// Templates Begin
var boxtemplate = `
<div class="col-md-6 col-lg-4 wow bounceInUp" data-wow-duration="1.4s">
    <div class="box charitybg" style="background-image: url({{thumbnail_url}})">
    <h4 class="title"><a href="">{{name}}</a></h4>
    <p class="description">{{box_description}}</p>
    <div class="categorytag">
        <p>{{category_tag}}</p>
    </div>
    <div class="datetag">
        <p>{{start_date}} - {{end_date}}</p>
        </div>
    </div>
</div>`


// Template Ends

// Functionality Begins
var live_array = new Array();
var upcoming_array = new Array();
var past_array = new Array();


for (var i = 0; i < dataarray.length; i++) {
    if (dataarray[i].challenge_status === "Upcoming") {
        console.log(dataarray[i].challenge_status + " === " + "Upcoming")
        upcoming_array.push(dataarray[i]);
    }
    if (dataarray[i].challenge_status === "Live") {
        live_array.push(dataarray[i]);
    }
    if (dataarray[i].challenge_status === "Past") {
        past_array.push(dataarray[i]);
    }
}

var allupcoming = document.getElementById("allupcoming");
var alllive = document.getElementById("alllive");
var allpast = document.getElementById("allpast");

for (var i = 0; i < upcoming_array.length; i++) {
    allupcoming.insertAdjacentHTML('afterbegin', Mustache.render(boxtemplate, upcoming_array[i]))
}
for (var i = 0; i < live_array.length; i++) {
    allupcoming.insertAdjacentHTML('afterbegin', Mustache.render(boxtemplate, live_array[i]))
}
for (var i = 0; i < past_array.length; i++) {
    allupcoming.insertAdjacentHTML('afterbegin', Mustache.render(boxtemplate, past_array[i]))
}
// Functionality Ends